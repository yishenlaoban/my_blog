<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>三、五大数据类型 | 升升狠のBlog</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/my_blog/favicon.ico">
    <meta name="description" content="看清生活的本质，依旧热爱生活 。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/my_blog/assets/css/0.styles.ad4f4074.css" as="style"><link rel="preload" href="/my_blog/assets/js/app.c283b6ae.js" as="script"><link rel="preload" href="/my_blog/assets/js/3.3346af26.js" as="script"><link rel="preload" href="/my_blog/assets/js/1.d09d735b.js" as="script"><link rel="preload" href="/my_blog/assets/js/26.1528867a.js" as="script"><link rel="prefetch" href="/my_blog/assets/js/10.973da536.js"><link rel="prefetch" href="/my_blog/assets/js/100.4bff96c6.js"><link rel="prefetch" href="/my_blog/assets/js/101.79ef6786.js"><link rel="prefetch" href="/my_blog/assets/js/102.bc149a65.js"><link rel="prefetch" href="/my_blog/assets/js/103.decb279e.js"><link rel="prefetch" href="/my_blog/assets/js/104.0e92b220.js"><link rel="prefetch" href="/my_blog/assets/js/105.04c452f3.js"><link rel="prefetch" href="/my_blog/assets/js/106.c3876776.js"><link rel="prefetch" href="/my_blog/assets/js/107.250e689a.js"><link rel="prefetch" href="/my_blog/assets/js/108.87fb8650.js"><link rel="prefetch" href="/my_blog/assets/js/109.be9199a1.js"><link rel="prefetch" href="/my_blog/assets/js/11.e4e5fdfd.js"><link rel="prefetch" href="/my_blog/assets/js/110.1edf1836.js"><link rel="prefetch" href="/my_blog/assets/js/111.9a85d658.js"><link rel="prefetch" href="/my_blog/assets/js/112.69617813.js"><link rel="prefetch" href="/my_blog/assets/js/113.49895666.js"><link rel="prefetch" href="/my_blog/assets/js/12.36f05147.js"><link rel="prefetch" href="/my_blog/assets/js/13.d68d585c.js"><link rel="prefetch" href="/my_blog/assets/js/14.54e30e66.js"><link rel="prefetch" href="/my_blog/assets/js/15.cc9812ce.js"><link rel="prefetch" href="/my_blog/assets/js/16.3114a198.js"><link rel="prefetch" href="/my_blog/assets/js/17.6946dd5e.js"><link rel="prefetch" href="/my_blog/assets/js/18.c1bd10d0.js"><link rel="prefetch" href="/my_blog/assets/js/19.16084e1f.js"><link rel="prefetch" href="/my_blog/assets/js/20.e6c8c0e1.js"><link rel="prefetch" href="/my_blog/assets/js/21.38a056dc.js"><link rel="prefetch" href="/my_blog/assets/js/22.8ad7a94e.js"><link rel="prefetch" href="/my_blog/assets/js/23.6472c470.js"><link rel="prefetch" href="/my_blog/assets/js/24.5d6c1c78.js"><link rel="prefetch" href="/my_blog/assets/js/25.dafb6777.js"><link rel="prefetch" href="/my_blog/assets/js/27.c9b2c67a.js"><link rel="prefetch" href="/my_blog/assets/js/28.ebd4b36b.js"><link rel="prefetch" href="/my_blog/assets/js/29.663963f2.js"><link rel="prefetch" href="/my_blog/assets/js/30.d4b56b75.js"><link rel="prefetch" href="/my_blog/assets/js/31.dda238a5.js"><link rel="prefetch" href="/my_blog/assets/js/32.1ca244ae.js"><link rel="prefetch" href="/my_blog/assets/js/33.a07976f1.js"><link rel="prefetch" href="/my_blog/assets/js/34.14e0ab93.js"><link rel="prefetch" href="/my_blog/assets/js/35.8362c3d6.js"><link rel="prefetch" href="/my_blog/assets/js/36.4e6909ea.js"><link rel="prefetch" href="/my_blog/assets/js/37.d62210c5.js"><link rel="prefetch" href="/my_blog/assets/js/38.15c74588.js"><link rel="prefetch" href="/my_blog/assets/js/39.62b69363.js"><link rel="prefetch" href="/my_blog/assets/js/4.49a80f60.js"><link rel="prefetch" href="/my_blog/assets/js/40.25ab3bd5.js"><link rel="prefetch" href="/my_blog/assets/js/41.8d480c44.js"><link rel="prefetch" href="/my_blog/assets/js/42.f1e157ed.js"><link rel="prefetch" href="/my_blog/assets/js/43.705bb250.js"><link rel="prefetch" href="/my_blog/assets/js/44.0926c5d9.js"><link rel="prefetch" href="/my_blog/assets/js/45.39e536a0.js"><link rel="prefetch" href="/my_blog/assets/js/46.dbc45219.js"><link rel="prefetch" href="/my_blog/assets/js/47.c84fdcc1.js"><link rel="prefetch" href="/my_blog/assets/js/48.dd5a66b9.js"><link rel="prefetch" href="/my_blog/assets/js/49.59960114.js"><link rel="prefetch" href="/my_blog/assets/js/5.238aee53.js"><link rel="prefetch" href="/my_blog/assets/js/50.354faeb7.js"><link rel="prefetch" href="/my_blog/assets/js/51.2d02563d.js"><link rel="prefetch" href="/my_blog/assets/js/52.bed8ff23.js"><link rel="prefetch" href="/my_blog/assets/js/53.267b5fe8.js"><link rel="prefetch" href="/my_blog/assets/js/54.e4419cf2.js"><link rel="prefetch" href="/my_blog/assets/js/55.1b5d6e29.js"><link rel="prefetch" href="/my_blog/assets/js/56.e5b8f999.js"><link rel="prefetch" href="/my_blog/assets/js/57.970a7001.js"><link rel="prefetch" href="/my_blog/assets/js/58.721fe103.js"><link rel="prefetch" href="/my_blog/assets/js/59.ae5d4a31.js"><link rel="prefetch" href="/my_blog/assets/js/6.5254465b.js"><link rel="prefetch" href="/my_blog/assets/js/60.9a8f0d52.js"><link rel="prefetch" href="/my_blog/assets/js/61.1edb26fd.js"><link rel="prefetch" href="/my_blog/assets/js/62.d60b068f.js"><link rel="prefetch" href="/my_blog/assets/js/63.f42865f7.js"><link rel="prefetch" href="/my_blog/assets/js/64.2eb100fa.js"><link rel="prefetch" href="/my_blog/assets/js/65.4e098d89.js"><link rel="prefetch" href="/my_blog/assets/js/66.c772b8ea.js"><link rel="prefetch" href="/my_blog/assets/js/67.d359a9a8.js"><link rel="prefetch" href="/my_blog/assets/js/68.6045ce8e.js"><link rel="prefetch" href="/my_blog/assets/js/69.04f22fab.js"><link rel="prefetch" href="/my_blog/assets/js/7.8f01f368.js"><link rel="prefetch" href="/my_blog/assets/js/70.96a6f404.js"><link rel="prefetch" href="/my_blog/assets/js/71.a073e960.js"><link rel="prefetch" href="/my_blog/assets/js/72.951f0383.js"><link rel="prefetch" href="/my_blog/assets/js/73.34bc041f.js"><link rel="prefetch" href="/my_blog/assets/js/74.4e2f68b8.js"><link rel="prefetch" href="/my_blog/assets/js/75.09390bd4.js"><link rel="prefetch" href="/my_blog/assets/js/76.8a1fbd3a.js"><link rel="prefetch" href="/my_blog/assets/js/77.f79bb8d4.js"><link rel="prefetch" href="/my_blog/assets/js/78.448b9cdd.js"><link rel="prefetch" href="/my_blog/assets/js/79.c774c6bc.js"><link rel="prefetch" href="/my_blog/assets/js/8.4cd6b957.js"><link rel="prefetch" href="/my_blog/assets/js/80.cc8335f4.js"><link rel="prefetch" href="/my_blog/assets/js/81.b93a6c7f.js"><link rel="prefetch" href="/my_blog/assets/js/82.178c4761.js"><link rel="prefetch" href="/my_blog/assets/js/83.1c229188.js"><link rel="prefetch" href="/my_blog/assets/js/84.040e890e.js"><link rel="prefetch" href="/my_blog/assets/js/85.1f10caf5.js"><link rel="prefetch" href="/my_blog/assets/js/86.248f871c.js"><link rel="prefetch" href="/my_blog/assets/js/87.1073c2ed.js"><link rel="prefetch" href="/my_blog/assets/js/88.e3125730.js"><link rel="prefetch" href="/my_blog/assets/js/89.e4d82470.js"><link rel="prefetch" href="/my_blog/assets/js/9.9950b82a.js"><link rel="prefetch" href="/my_blog/assets/js/90.4d918fb9.js"><link rel="prefetch" href="/my_blog/assets/js/91.1c149360.js"><link rel="prefetch" href="/my_blog/assets/js/92.25a7234a.js"><link rel="prefetch" href="/my_blog/assets/js/93.d29d60a4.js"><link rel="prefetch" href="/my_blog/assets/js/94.acf889e5.js"><link rel="prefetch" href="/my_blog/assets/js/95.1e6d711b.js"><link rel="prefetch" href="/my_blog/assets/js/96.a4541e56.js"><link rel="prefetch" href="/my_blog/assets/js/97.052f5836.js"><link rel="prefetch" href="/my_blog/assets/js/98.5b9b145a.js"><link rel="prefetch" href="/my_blog/assets/js/99.5ee43805.js">
    <link rel="stylesheet" href="/my_blog/assets/css/0.styles.ad4f4074.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-2d5f533b><div data-v-2d5f533b><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-2d5f533b data-v-2d5f533b><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-2d5f533b data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>升升狠のBlog</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>yishenlaoban</span>
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-2d5f533b><header class="navbar" data-v-2d5f533b><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/my_blog/" class="home-link router-link-active"><img src="/my_blog/logo.png" alt="升升狠のBlog" class="logo"> <span class="site-name">升升狠のBlog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/my_blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      目录索引
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/categories/数据库/" class="nav-link"><i class="iconfont undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/框架/" class="nav-link"><i class="iconfont undefined"></i>
  框架
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/java/" class="nav-link"><i class="iconfont undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/多线程/" class="nav-link"><i class="iconfont undefined"></i>
  多线程
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/算法/" class="nav-link"><i class="iconfont undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/面试/" class="nav-link"><i class="iconfont undefined"></i>
  面试
</a></li></ul></div></div><div class="nav-item"><a href="/my_blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签索引
</a></div><div class="nav-item"><a href="/my_blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/yishenlaoban" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/m0_51302110?spm=1000.2115.3001.5343" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-2d5f533b></div> <aside class="sidebar" data-v-2d5f533b><div class="personal-info-wrapper" data-v-ca798c94 data-v-2d5f533b><img src="/my_blog/avatar.jpg" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    yishenlaoban
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>102</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>32</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/my_blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      目录索引
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/my_blog/categories/数据库/" class="nav-link"><i class="iconfont undefined"></i>
  数据库
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/框架/" class="nav-link"><i class="iconfont undefined"></i>
  框架
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/java/" class="nav-link"><i class="iconfont undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/多线程/" class="nav-link"><i class="iconfont undefined"></i>
  多线程
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/算法/" class="nav-link"><i class="iconfont undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/my_blog/categories/面试/" class="nav-link"><i class="iconfont undefined"></i>
  面试
</a></li></ul></div></div><div class="nav-item"><a href="/my_blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签索引
</a></div><div class="nav-item"><a href="/my_blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间线
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/yishenlaoban" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/m0_51302110?spm=1000.2115.3001.5343" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Redis</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/my_blog/blogs/database/Redis/001.Nosql概述.html" class="sidebar-link">一、Nosql概述</a></li><li><a href="/my_blog/blogs/database/Redis/002.Redis入门.html" class="sidebar-link">二、Redis入门</a></li><li><a href="/my_blog/blogs/database/Redis/003.五大数据类型.html" class="active sidebar-link">三、五大数据类型</a></li><li><a href="/my_blog/blogs/database/Redis/004.三种特殊数据类型.html" class="sidebar-link">四、三种特殊数据类型</a></li><li><a href="/my_blog/blogs/database/Redis/005.事务.html" class="sidebar-link">五、事务</a></li><li><a href="/my_blog/blogs/database/Redis/006.Jedis.html" class="sidebar-link">六、Jedis</a></li><li><a href="/my_blog/blogs/database/Redis/007.SpringBoot整合.html" class="sidebar-link">七、SpringBoot整合</a></li><li><a href="/my_blog/blogs/database/Redis/008.自定义Redis工具类.html" class="sidebar-link">八、自定义Redis工具类</a></li><li><a href="/my_blog/blogs/database/Redis/009.Redis.conf.html" class="sidebar-link">九、Redis.conf</a></li><li><a href="/my_blog/blogs/database/Redis/010持久化—RDB.html" class="sidebar-link">十、持久化—RDB</a></li><li><a href="/my_blog/blogs/database/Redis/011持久化—AOF.html" class="sidebar-link">十一、持久化—AOF</a></li><li><a href="/my_blog/blogs/database/Redis/012Redis发布与订阅.html" class="sidebar-link">十二、Redis发布与订阅</a></li><li><a href="/my_blog/blogs/database/Redis/013Redis主从复制.html" class="sidebar-link">十三、Redis主从复制</a></li><li><a href="/my_blog/blogs/database/Redis/014哨兵模式.html" class="sidebar-link">十四、哨兵模式</a></li><li><a href="/my_blog/blogs/database/Redis/015.缓存穿透与雪崩.html" class="sidebar-link">十五、缓存穿透与雪崩</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MySQL</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-2d5f533b><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>三、五大数据类型</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>yishenlaoban</span>
            
          <!---->
          2022
        </a></span></div></div> <div data-v-2d5f533b><main class="page"><div class="page-title" style="display:none;"><h1 class="title">三、五大数据类型</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>yishenlaoban</span></i> <i class="iconfont reco-date" data-v-3b7f5bdf><span data-v-3b7f5bdf>2022-02-13</span></i> <i class="iconfont reco-eye" data-v-3b7f5bdf><span id="/my_blog/blogs/database/Redis/003.%E4%BA%94%E5%A4%A7%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-3b7f5bdf><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-3b7f5bdf><span class="tag-item" data-v-3b7f5bdf>Nosql</span><span class="tag-item" data-v-3b7f5bdf>Redis</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="三、五大数据类型"><a href="#三、五大数据类型" class="header-anchor">#</a> 三、五大数据类型</h2> <p>Redis是一个开源（BSD许可），内存存储的数据结构服务器，可用作数据库，高速缓存和消息队列代理。它支持<strong>字符串</strong>、<strong>哈希表</strong>、<strong>列表</strong>、<strong>集合</strong>、<strong>有序集合</strong>，位图，hyperloglogs等数据类型。内置复制、Lua脚本、LRU收回、事务以及不同级别磁盘持久化功能，同时通过Redis Sentinel提供高可用，通过Redis Cluster提供自动<strong>分区</strong>。</p> <h3 id="redis-key"><a href="#redis-key" class="header-anchor">#</a> Redis-key</h3> <blockquote><p>在redis中无论什么数据类型，在数据库中都是以key-value形式保存，通过进行对Redis-key的操作，来完成对数据库中数据的操作。</p></blockquote> <p>下面学习的命令：</p> <ul><li><code>exists key</code>：判断键是否存在</li> <li><code>del key</code>：删除键值对</li> <li><code>move key db</code>：将键值对移动到指定数据库</li> <li><code>expire key second</code>：设置键值对的过期时间</li> <li><code>type key</code>：查看value的数据类型</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys * <span class="token comment"># 查看当前数据库所有key</span>
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> name qinjiang <span class="token comment"># set key</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> age <span class="token number">20</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> move age <span class="token number">1</span> <span class="token comment"># 将键值对移动到指定数据库</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> EXISTS age <span class="token comment"># 判断键是否存在</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span> <span class="token comment"># 不存在</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> EXISTS name
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> <span class="token comment"># 存在</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SELECT <span class="token number">1</span>
OK
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">127.0</span>.0.1:6379<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> del age <span class="token comment"># 删除键值对</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> <span class="token comment"># 删除个数</span>


<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> age <span class="token number">20</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> EXPIRE age <span class="token number">15</span> <span class="token comment"># 设置键值对的过期时间</span>

<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> <span class="token comment"># 设置成功 开始计数</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl age <span class="token comment"># 查看key的过期剩余时间</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">13</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">11</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">9</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl age
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> -2 <span class="token comment"># -2 表示key过期，-1表示key未设置过期时间</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get age <span class="token comment"># 过期的key 会被自动delete</span>
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">type</span> name <span class="token comment"># 查看value的数据类型</span>
string
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>关于TTL命令</p> <p>Redis的key，通过TTL命令返回key的过期时间，一般来说有3种：</p> <p>​        1.当前key==没有设置过期时间，所以会返回-1==.
​        2.当前key有==设置过期时间，而且key已经过期，所以会返回-2==.
​        3.当前key==有设置过期时间，且key还没有过期，故会返回key的正常剩余时间.==</p> <p>关于重命名<code>RENAME</code>和<code>RENAMENX</code></p> <ul><li><code>RENAME key newkey</code>修改 key 的名称</li> <li><code>RENAMENX key newkey</code>仅当 newkey 不存在时，将 key 改名为 newkey 。</li></ul> <h3 id="string-字符串"><a href="#string-字符串" class="header-anchor">#</a> String(字符串)</h3> <table><thead><tr><th><strong>命令</strong></th> <th><strong>描述</strong></th></tr></thead> <tbody><tr><td><code>append key value</code></td> <td>向指定的key的value后追加字符串</td></tr> <tr><td><code>decr/incr key</code></td> <td>将指定key的value数值进行+1/-1(仅对于数字)</td></tr> <tr><td><code>decrby/incrby key n</code></td> <td>按指定的步长对数值进行加减</td></tr> <tr><td><code>incrbyfloat key n</code></td> <td>为数值加上浮点型数值</td></tr> <tr><td><code>strlen key</code></td> <td>获取key保存值的字符串长度</td></tr> <tr><td><code>getrange key start end</code></td> <td>按起止位置获取字符串（闭区间，起止位置都取）</td></tr> <tr><td><code>setrange key offset value</code></td> <td>用指定的value 替换key中 offset开始的值</td></tr> <tr><td><code>getset key value</code></td> <td>将给定 key 的值设为 value ，并返回 key 的旧值(old value)。</td></tr> <tr><td><code>setnx key value</code>   (==set if not exist==)</td> <td>仅当key不存在时进行set</td></tr> <tr><td><code>setex key seconds value</code>  (==set and expire==)</td> <td>set 键值对并设置过期时间</td></tr> <tr><td><code>mset key1 value1 [key2 value2..]</code></td> <td>批量set键值对</td></tr> <tr><td><code>msetnx key1 value1 [key2 value2..]</code></td> <td>批量设置键值对，仅当参数中所有的key都不存在时执行( 这是原子性的操作)</td></tr> <tr><td><code>mget key1 [key2..]</code></td> <td>批量获取多个key保存的值</td></tr> <tr><td><code>psetex key milliseconds value</code></td> <td>和 SETEX 命令相似，但它以毫秒为单位设置 key 的生存时间，</td></tr> <tr><td></td> <td></td></tr></tbody></table> <p>==String类似的使用场景：value除了是字符串还可以是数字==，用途举例：</p> <ul><li>计数器</li> <li>统计多单位的数量：uid:123666：follow 0</li> <li>粉丝数</li> <li>对象存储缓存</li></ul> <blockquote><p>自增</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> views <span class="token number">0</span>     
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get views
<span class="token string">&quot;0&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr views    <span class="token comment">#自增一</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incr views
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get views
<span class="token string">&quot;2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> decr views     <span class="token comment">#自减一</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incrby views <span class="token number">10</span>   <span class="token comment">#自增10</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">11</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> incrby views <span class="token number">10</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">21</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> decrby views <span class="token number">5</span>   <span class="token comment">#自减5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">16</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>截取字符串getrange</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> key1 <span class="token string">&quot;fang&quot;</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key1
<span class="token string">&quot;fang&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getrange key1 <span class="token number">0</span> <span class="token number">2</span>  <span class="token comment">#截取012字符串</span>
<span class="token string">&quot;fan&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getrange key1 <span class="token number">0</span> -1 <span class="token comment">#获取全部字符串</span>
<span class="token string">&quot;fang&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>替换setrange</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token builtin class-name">set</span> key2 abcdefg
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key2
<span class="token string">&quot;abcdefg&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setrange key2 <span class="token number">1</span> xx
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get key2
<span class="token string">&quot;axxdefg&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>setex #设置过期时间
setnx #不存在在设置（==在分布式锁中常常使用==）</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setex key3 <span class="token number">30</span> <span class="token string">&quot;hello&quot;</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl key3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">17</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setnx mykey <span class="token string">&quot;redsi&quot;</span> <span class="token comment">#如果mykey存在，则创建失败。</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;mykey&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;key2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;key1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ttl key3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> -2
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> setnx mykey <span class="token string">&quot;MongDB&quot;</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get mykey
<span class="token string">&quot;redsi&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>一次性获取，设置多个值：mset，mget</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">clear</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token punctuation">(</span>empty array<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mset k1 v1 k2 v2 k3 v3     <span class="token comment">#同时设置多个值</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> keys *
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k3&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mget k1 k2 k3    <span class="token comment">#同时获取多个值</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;v1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;v2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;v3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> msetnx k1 v1 k4 v4   <span class="token comment">#msetnx是一个原子性操作，要么成功要么失败</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get k4
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><blockquote><p>对象
mset user：1{name：zhangsan，age：3}#设置一个user：1对象 值为json字符来保存一个对象</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mset user:1:name fang user:1:age <span class="token number">2</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> mget user:1:name user:1:age
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;fang&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>先get在set-------getset</p></blockquote> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> <span class="token function">clear</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getset db redis
<span class="token punctuation">(</span>nil<span class="token punctuation">)</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get db
<span class="token string">&quot;redis&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> getset db mongodb
<span class="token string">&quot;redis&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get db
<span class="token string">&quot;mongodb&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="list-列表"><a href="#list-列表" class="header-anchor">#</a> List(列表)</h3> <blockquote><p>Redis列表是简单的字符串列表，按照插入顺序排序。你可以添加一个元素到列表的头部（左边）或者尾部（右边）</p> <p>一个列表最多可以包含 232 - 1 个元素 (4294967295, 每个列表超过40亿个元素)。</p></blockquote> <p>首先我们列表，可以经过规则定义将其变为队列、栈、双端队列等</p> <p><img src="https://gitee.com/yishenlaoban/git-typore/raw/master/image_my/image-20220210190646251.png" alt="image-20220210190646251"></p> <p>正如图==Redis中List是可以进行双端操作的，所以命令也就分为了LXXX和RLLL两类==，有时候L也表示List例如LLEN</p> <table><thead><tr><th style="text-align:center;"><strong>命令</strong></th> <th><strong>描述</strong></th></tr></thead> <tbody><tr><td style="text-align:center;"><code>LPUSH/RPUSH key value1[value2..]</code></td> <td>从左边/右边向列表中PUSH值(一个或者多个)。</td></tr> <tr><td style="text-align:center;"><code>LRANGE key start end</code></td> <td>获取list 起止元素==（索引从左往右 递增）==</td></tr> <tr><td style="text-align:center;"><code>LPUSHX/RPUSHX key value</code></td> <td>向已存在的列名中push值（一个或者多个）</td></tr> <tr><td style="text-align:center;"><code>LINSERT key BEFORE/AFTER pivot value</code></td> <td>在指定列表元素的前/后 插入value</td></tr> <tr><td style="text-align:center;"><code>LLEN key</code></td> <td>查看列表长度</td></tr> <tr><td style="text-align:center;"><code>LINDEX key index</code></td> <td>通过索引获取列表元素`</td></tr> <tr><td style="text-align:center;"><code>LSET key index value</code></td> <td>通过索引为元素设值</td></tr> <tr><td style="text-align:center;"><code>LPOP/RPOP key</code></td> <td>从最左边/最右边移除值 并返回</td></tr> <tr><td style="text-align:center;"><code>RPOPLPUSH source destination</code></td> <td>将列表的尾部(右)最后一个值弹出，并返回，然后加到另一个列表的头部</td></tr> <tr><td style="text-align:center;"><code>LTRIM key start end</code></td> <td>通过下标截取指定范围内的列表</td></tr> <tr><td style="text-align:center;"><code>LREM key count value</code></td> <td>List中是允许value重复的 <code>count &gt; 0</code>：从头部开始搜索 然后删除指定的value 至多删除count个 <code>count &lt; 0</code>：从尾部开始搜索… <code>count = 0</code>：删除列表中所有的指定value。</td></tr> <tr><td style="text-align:center;"><code>BLPOP/BRPOP key1[key2] timout</code></td> <td>移出并获取列表的第一个/最后一个元素， 如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</td></tr> <tr><td style="text-align:center;"><code>BRPOPLPUSH source destination timeout</code></td> <td>和<code>RPOPLPUSH</code>功能相同，如果列表没有元素会阻塞列表直到等待超时或发现可弹出元素为止。</td></tr></tbody></table> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>---------------------------LPUSH---RPUSH---LRANGE--------------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPUSH mylist k1 <span class="token comment"># LPUSH mylist=&gt;{1}</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPUSH mylist k2 <span class="token comment"># LPUSH mylist=&gt;{2,1}</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> RPUSH mylist k3 <span class="token comment"># RPUSH mylist=&gt;{2,1,3}</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> get mylist <span class="token comment"># 普通的get是无法获取list值的</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> WRONGTYPE Operation against a key holding the wrong kind of value
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> <span class="token number">4</span> <span class="token comment"># LRANGE 获取起止位置范围内的元素</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> <span class="token number">2</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> <span class="token number">1</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> -1 <span class="token comment"># 获取全部元素</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k3&quot;</span>

---------------------------LPUSHX---RPUSHX-----------------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPUSHX list v1 <span class="token comment"># list不存在 LPUSHX失败</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPUSHX list v1 v2  
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPUSHX mylist k4 k5 <span class="token comment"># 向mylist中 左边 PUSH k4 k5</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k5&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k4&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;k3&quot;</span>

---------------------------LINSERT--LLEN--LINDEX--LSET----------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LINSERT mylist after k2 ins_key1 <span class="token comment"># 在k2元素后 插入ins_key1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k5&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k4&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;ins_key1&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;k3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LLEN mylist <span class="token comment"># 查看mylist的长度</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">6</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LINDEX mylist <span class="token number">3</span> <span class="token comment"># 获取下标为3的元素</span>
<span class="token string">&quot;ins_key1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LINDEX mylist <span class="token number">0</span>
<span class="token string">&quot;k5&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LSET mylist <span class="token number">3</span> k6 <span class="token comment"># 将下标3的元素 set值为k6</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k5&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k4&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;k6&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;k3&quot;</span>

---------------------------LPOP--RPOP--------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LPOP mylist <span class="token comment"># 左侧(头部)弹出</span>
<span class="token string">&quot;k5&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> RPOP mylist <span class="token comment"># 右侧(尾部)弹出</span>
<span class="token string">&quot;k3&quot;</span>

---------------------------RPOPLPUSH--------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k6&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> RPOPLPUSH mylist newlist <span class="token comment"># 将mylist的最后一个值(k1)弹出，加入到newlist的头部</span>
<span class="token string">&quot;k1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE newlist <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;k6&quot;</span>

---------------------------LTRIM--------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LTRIM mylist <span class="token number">0</span> <span class="token number">1</span> <span class="token comment"># 截取mylist中的 0~1部分</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LRANGE mylist <span class="token number">0</span> -1
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;k4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>

<span class="token comment"># 初始 mylist: k2,k2,k2,k2,k2,k2,k4,k2,k2,k2,k2</span>
---------------------------LREM--------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LREM mylist <span class="token number">3</span> k2 <span class="token comment"># 从头部开始搜索 至多删除3个 k2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token comment"># 删除后：mylist: k2,k2,k2,k4,k2,k2,k2,k2</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> LREM mylist -2 k2 <span class="token comment">#从尾部开始搜索 至多删除2个 k2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token comment"># 删除后：mylist: k2,k2,k2,k4,k2,k2</span>


---------------------------BLPOP--BRPOP--------------------------

mylist: k2,k2,k2,k4,k2,k2
newlist: k1

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> BLPOP newlist mylist <span class="token number">30</span> <span class="token comment"># 从newlist中弹出第一个值，mylist作为候选</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;newlist&quot;</span> <span class="token comment"># 弹出</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> BLPOP newlist mylist <span class="token number">30</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;mylist&quot;</span> <span class="token comment"># 由于newlist空了 从mylist中弹出</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;k2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> BLPOP newlist <span class="token number">30</span>
<span class="token punctuation">(</span><span class="token number">30</span>.10s<span class="token punctuation">)</span> <span class="token comment"># 超时了</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> BLPOP newlist <span class="token number">30</span> <span class="token comment"># 我们连接另一个客户端向newlist中push了test, 阻塞被解决。</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;newlist&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;test&quot;</span>
<span class="token punctuation">(</span><span class="token number">12</span>.54s<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br></div></div><blockquote><p>小结</p></blockquote> <ul><li>list实际上是一个链表，before Node after , left, right 都可以插入值</li> <li><strong>如果key不存在，则创建新的链表</strong></li> <li>如果key存在，新增内容</li> <li>如果移除了所有值，空链表，也代表不存在</li> <li>在两边插入或者改动值，效率最高！修改中间元素，效率相对较低</li></ul> <p><strong>应用：</strong></p> <p><strong>消息排队！消息队列（Lpush Rpop）,栈（Lpush Lpop）</strong></p> <h3 id="set-集合"><a href="#set-集合" class="header-anchor">#</a> Set(集合)</h3> <blockquote><p>Redis的Set是string类型的==无序集合。集合成员是唯一的，这就意味着集合中不能出现重复的数据==。</p> <p>Redis 中 集合是==通过哈希表==实现的，所以添加，删除，查找的复杂度都是O(1)。</p> <p>集合中最大的成员数为 232 - 1 (4294967295, 每个集合可存储40多亿个成员)。</p></blockquote> <p><img src="https://gitee.com/yishenlaoban/git-typore/raw/master/image_my/image-20220210203609436.png" alt="image-20220210203609436"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>---------------SADD--SCARD--SMEMBERS--SISMEMBER--------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SADD myset m1 m2 m3 m4 <span class="token comment"># 向myset中增加成员 m1~m4</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SCARD myset <span class="token comment"># 获取集合的成员数目</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> smembers myset <span class="token comment"># 获取集合中所有成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SISMEMBER myset m5 <span class="token comment"># 查询m5是否是myset的成员</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span> <span class="token comment"># 不是，返回0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SISMEMBER myset m2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> <span class="token comment"># 是，返回1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SISMEMBER myset m3
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>

---------------------SRANDMEMBER--SPOP----------------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset <span class="token number">3</span> <span class="token comment"># 随机返回3个成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SRANDMEMBER myset <span class="token comment"># 随机返回1个成员</span>
<span class="token string">&quot;m3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SPOP myset <span class="token number">2</span> <span class="token comment"># 随机移除并返回2个成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token comment"># 将set还原到{m1,m2,m3,m4}</span>

---------------------SMOVE--SREM----------------------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMOVE myset newset m3 <span class="token comment"># 将myset中m3成员移动到newset集合</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS myset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS newset
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SREM newset m3 <span class="token comment"># 从newset中移除m3元素</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SMEMBERS newset
<span class="token punctuation">(</span>empty list or <span class="token builtin class-name">set</span><span class="token punctuation">)</span>

<span class="token comment"># 下面开始是多集合操作,多集合操作中若只有一个参数默认和自身进行运算</span>
<span class="token comment"># setx=&gt;{m1,m2,m4,m6}, sety=&gt;{m2,m5,m6}, setz=&gt;{m1,m3,m6}</span>

-----------------------------SDIFF------------------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SDIFF setx sety setz <span class="token comment"># 等价于setx-sety-setz</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SDIFF setx sety <span class="token comment"># setx - sety</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SDIFF sety setx <span class="token comment"># sety - setx</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m5&quot;</span>


-------------------------SINTER---------------------------------------
<span class="token comment"># 共同关注（交集）</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SINTER setx sety setz <span class="token comment"># 求 setx、sety、setx的交集</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m6&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SINTER setx sety <span class="token comment"># 求setx sety的交集</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m6&quot;</span>

-------------------------SUNION---------------------------------------

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SUNION setx sety setz <span class="token comment"># setx sety setz的并集</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m6&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;m5&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> SUNION setx sety <span class="token comment"># setx sety 并集</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m6&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;m5&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br></div></div><h3 id="hash-哈希"><a href="#hash-哈希" class="header-anchor">#</a> Hash（哈希）</h3> <blockquote><p>Redis hash 是一个string类型的field和value的映射表，==hash特别适合用于存储对象。==</p> <p>Set就是一种简化的Hash,只变动key,而value使用默认值填充。可以将一个Hash表作为一个对象进行存储，表中存放对象的信息。</p></blockquote> <p><img src="https://gitee.com/yishenlaoban/git-typore/raw/master/image_my/image-20220210210226073.png" alt="image-20220210210226073"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>------------------------HSET--HMSET--HSETNX----------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HSET studentx name sakura <span class="token comment"># 将studentx哈希表作为一个对象，设置name为sakura</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HSET studentx name gyc <span class="token comment"># 重复设置field进行覆盖，并返回0</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HSET studentx age <span class="token number">20</span> <span class="token comment"># 设置studentx的age为20</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HMSET studentx sex <span class="token number">1</span> tel <span class="token number">15623667886</span> <span class="token comment"># 设置sex为1，tel为15623667886</span>
OK
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HSETNX studentx name gyc <span class="token comment"># HSETNX 设置已存在的field</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span> <span class="token comment"># 失败</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HSETNX studentx email <span class="token number">12345</span>@qq.com
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> <span class="token comment"># 成功</span>

----------------------HEXISTS--------------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HEXISTS studentx name <span class="token comment"># name字段在studentx中是否存在</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span> <span class="token comment"># 存在</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HEXISTS studentx addr
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span> <span class="token comment"># 不存在</span>

-------------------HGET--HMGET--HGETALL-----------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HGET studentx name <span class="token comment"># 获取studentx中name字段的value</span>
<span class="token string">&quot;gyc&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HMGET studentx name age tel <span class="token comment"># 获取studentx中name、age、tel字段的value</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;gyc&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;20&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;15623667886&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HGETALL studentx <span class="token comment"># 获取studentx中所有的field及其value</span>
 <span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
 <span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;gyc&quot;</span>
 <span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
 <span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;20&quot;</span>
 <span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;sex&quot;</span>
 <span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
 <span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;tel&quot;</span>
 <span class="token number">8</span><span class="token punctuation">)</span> <span class="token string">&quot;15623667886&quot;</span>
 <span class="token number">9</span><span class="token punctuation">)</span> <span class="token string">&quot;email&quot;</span>
<span class="token number">10</span><span class="token punctuation">)</span> <span class="token string">&quot;12345@qq.com&quot;</span>


--------------------HKEYS--HLEN--HVALS--------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HKEYS studentx <span class="token comment"># 查看studentx中所有的field</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;sex&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;tel&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;email&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HLEN studentx <span class="token comment"># 查看studentx中的字段数量</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">5</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HVALS studentx <span class="token comment"># 查看studentx中所有的value</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;gyc&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;20&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;1&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;15623667886&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;12345@qq.com&quot;</span>

-------------------------HDEL--------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HDEL studentx sex tel <span class="token comment"># 删除studentx 中的sex、tel字段</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HKEYS studentx
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;name&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;age&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;email&quot;</span>

-------------HINCRBY--HINCRBYFLOAT------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HINCRBY studentx age <span class="token number">1</span> <span class="token comment"># studentx的age字段数值+1</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">21</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HINCRBY studentx name <span class="token number">1</span> <span class="token comment"># 非整数字型字段不可用</span>
<span class="token punctuation">(</span>error<span class="token punctuation">)</span> ERR <span class="token builtin class-name">hash</span> value is not an integer
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> HINCRBYFLOAT studentx weight <span class="token number">0.6</span> <span class="token comment"># weight字段增加0.6</span>
<span class="token string">&quot;90.8&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><p>Hash变更的数据user name age，尤其是用户信息之类的，经常变动的信息！<strong>Hash更适合于对象的存储，Sring更加适合字符串存储！</strong></p> <h3 id="zset-有序集合"><a href="#zset-有序集合" class="header-anchor">#</a> Zset（有序集合）</h3> <blockquote><p>不同的是每个元素都会关联一个double类型的分数（score）。redis正是通过分数来为集合中的成员进行从小到大的排序。</p> <p>==score相同：按字典顺序排序==</p> <p>有序集合的成员是唯一的,但分数(score)却可以重复。</p></blockquote> <p><img src="https://gitee.com/yishenlaoban/git-typore/raw/master/image_my/image-20220211135454278.png" alt="image-20220211135454278"></p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>-------------------ZADD--ZCARD--ZCOUNT--------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZADD myzset <span class="token number">1</span> m1 <span class="token number">2</span> m2 <span class="token number">3</span> m3 <span class="token comment"># 向有序集合myzset中添加成员m1 score=1 以及成员m2 score=2..</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZCARD myzset <span class="token comment"># 获取有序集合的成员数</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZCOUNT myzset <span class="token number">0</span> <span class="token number">1</span> <span class="token comment"># 获取score在 [0,1]区间的成员数量</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZCOUNT myzset <span class="token number">0</span> <span class="token number">2</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>

----------------ZINCRBY--ZSCORE--------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZINCRBY myzset <span class="token number">5</span> m2 <span class="token comment"># 将成员m2的score +5</span>
<span class="token string">&quot;7&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZSCORE myzset m1 <span class="token comment"># 获取成员m1的score</span>
<span class="token string">&quot;1&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZSCORE myzset m2
<span class="token string">&quot;7&quot;</span>

--------------ZRANK--ZRANGE-----------------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANK myzset m1 <span class="token comment"># 获取成员m1的索引，索引按照score排序，score相同索引值按字典顺序顺序增加</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">0</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANK myzset m2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGE myzset <span class="token number">0</span> <span class="token number">1</span> <span class="token comment"># 获取索引在 0~1的成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGE myzset <span class="token number">0</span> -1 <span class="token comment"># 获取全部成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>

<span class="token comment">#testset=&gt;{abc,add,amaze,apple,back,java,redis} score均为0</span>
------------------ZRANGEBYLEX---------------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYLEX testset - + <span class="token comment"># 返回所有成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;abc&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;add&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;amaze&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;apple&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;back&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;java&quot;</span>
<span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">&quot;redis&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYLEX testset - + LIMIT <span class="token number">0</span> <span class="token number">3</span> <span class="token comment"># 分页 按索引显示查询结果的 0,1,2条记录</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;abc&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;add&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;amaze&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYLEX testset - + LIMIT <span class="token number">3</span> <span class="token number">3</span> <span class="token comment"># 显示 3,4,5条记录</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;apple&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;back&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;java&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYLEX testset <span class="token punctuation">(</span>- <span class="token punctuation">[</span>apple <span class="token comment"># 显示 (-,apple] 区间内的成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;abc&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;add&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;amaze&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;apple&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYLEX testset <span class="token punctuation">[</span>apple <span class="token punctuation">[</span>java <span class="token comment"># 显示 [apple,java]字典区间的成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;apple&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;back&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;java&quot;</span>

-----------------------ZRANGEBYSCORE---------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYSCORE myzset <span class="token number">1</span> <span class="token number">10</span> <span class="token comment"># 返回score在 [1,10]之间的的成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGEBYSCORE myzset <span class="token number">1</span> <span class="token number">5</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m1&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>

--------------------ZLEXCOUNT-----------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZLEXCOUNT testset - +
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">7</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZLEXCOUNT testset <span class="token punctuation">[</span>apple <span class="token punctuation">[</span>java
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>

------------------ZREM--ZREMRANGEBYLEX--ZREMRANGBYRANK--ZREMRANGEBYSCORE--------------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREM testset abc <span class="token comment"># 移除成员abc</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREMRANGEBYLEX testset <span class="token punctuation">[</span>apple <span class="token punctuation">[</span>java <span class="token comment"># 移除字典区间[apple,java]中的所有成员</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREMRANGEBYRANK testset <span class="token number">0</span> <span class="token number">1</span> <span class="token comment"># 移除排名0~1的所有成员</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREMRANGEBYSCORE myzset <span class="token number">0</span> <span class="token number">3</span> <span class="token comment"># 移除score在 [0,3]的成员</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">2</span>


<span class="token comment"># testset=&gt; {abc,add,apple,amaze,back,java,redis} score均为0</span>
<span class="token comment"># myzset=&gt; {(m1,1),(m2,2),(m3,3),(m4,4),(m7,7),(m9,9)}</span>
----------------ZREVRANGE--ZREVRANGEBYSCORE--ZREVRANGEBYLEX-----------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREVRANGE myzset <span class="token number">0</span> <span class="token number">3</span> <span class="token comment"># 按score递减排序，然后按索引，返回结果的 0~3</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m9&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m7&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREVRANGE myzset <span class="token number">2</span> <span class="token number">4</span> <span class="token comment"># 返回排序结果的 索引的2~4</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREVRANGEBYSCORE myzset <span class="token number">6</span> <span class="token number">2</span> <span class="token comment"># 按score递减顺序 返回集合中分数在[2,6]之间的成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;m4&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;m3&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;m2&quot;</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREVRANGEBYLEX testset <span class="token punctuation">[</span>java <span class="token punctuation">(</span>add <span class="token comment"># 按字典倒序 返回集合中(add,java]字典区间的成员</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;java&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;back&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;apple&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;amaze&quot;</span>

-------------------------ZREVRANK------------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREVRANK myzset m7 <span class="token comment"># 按score递减顺序，返回成员m7索引</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">1</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZREVRANK myzset m2
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">4</span>


<span class="token comment"># mathscore=&gt;{(xm,90),(xh,95),(xg,87)} 小明、小红、小刚的数学成绩</span>
<span class="token comment"># enscore=&gt;{(xm,70),(xh,93),(xg,90)} 小明、小红、小刚的英语成绩</span>
-------------------ZINTERSTORE--ZUNIONSTORE-----------------------------------
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZINTERSTORE sumscore <span class="token number">2</span> mathscore enscore <span class="token comment"># 将mathscore enscore进行合并 结果存放到sumscore</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGE sumscore <span class="token number">0</span> -1 withscores <span class="token comment"># 合并后的score是之前集合中所有score的和</span>
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;xm&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;160&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;xg&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;177&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;xh&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;188&quot;</span>

<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZUNIONSTORE lowestscore <span class="token number">2</span> mathscore enscore AGGREGATE MIN <span class="token comment"># 取两个集合的成员score最小值作为结果的</span>
<span class="token punctuation">(</span>integer<span class="token punctuation">)</span> <span class="token number">3</span>
<span class="token number">127.0</span>.0.1:637<span class="token operator"><span class="token file-descriptor important">9</span>&gt;</span> ZRANGE lowestscore <span class="token number">0</span> -1 withscores
<span class="token number">1</span><span class="token punctuation">)</span> <span class="token string">&quot;xm&quot;</span>
<span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">&quot;70&quot;</span>
<span class="token number">3</span><span class="token punctuation">)</span> <span class="token string">&quot;xg&quot;</span>
<span class="token number">4</span><span class="token punctuation">)</span> <span class="token string">&quot;87&quot;</span>
<span class="token number">5</span><span class="token punctuation">)</span> <span class="token string">&quot;xh&quot;</span>
<span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">&quot;93&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br></div></div><p>应用案例：</p> <ul><li>set排序 存储班级成绩表 工资表排序！</li> <li>普通消息，1.重要消息 2.带权重进行判断</li> <li>排行榜应用实现，取Top N测试</li></ul></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2/28/2022, 9:41:55 PM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><canvas id="vuepress-canvas-cursor"></canvas><canvas id="vuepress-canvas-ribbon"></canvas><APlayer audio="" fixed="true" mini="true" autoplay="autoplay" theme="#f9bcdd" loop="loop" order="random" preload="auto" volume="0.1" mutex="true" lrc-type="3" list-max-height="250" storage-name="vuepress-plugin-meting" id="aplayer-fixed"></APlayer></div></div>
    <script src="/my_blog/assets/js/app.c283b6ae.js" defer></script><script src="/my_blog/assets/js/3.3346af26.js" defer></script><script src="/my_blog/assets/js/1.d09d735b.js" defer></script><script src="/my_blog/assets/js/26.1528867a.js" defer></script>
  </body>
</html>
